<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts\MowsePack.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> MowsePack.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">25.93% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>14/54</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">7.58% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>5/66</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">13.04% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>3/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">29.41% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>20/68</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.7;
&nbsp;
import '@openzeppelin/contracts/access/Ownable.sol';
import '@openzeppelin/contracts/token/ERC721/presets/ERC721PresetMinterPauserAutoId.sol';
import '@openzeppelin/contracts/interfaces/IERC20.sol';
import '@openzeppelin/contracts/interfaces/IERC721.sol';
import '@openzeppelin/contracts/interfaces/IERC1155.sol';
import '@openzeppelin/contracts/utils/Counters.sol';
import '@openzeppelin/contracts/security/ReentrancyGuard.sol';
&nbsp;
import './interfaces/IMowsePack.sol';
import './interfaces/IMowseMetadataVisualizer.sol';
&nbsp;
contract MowsePack is IMowsePack, ERC721PresetMinterPauserAutoId, Ownable, ReentrancyGuard {
    using Strings for uint256;
    using Counters for Counters.Counter;
&nbsp;
    uint8 public constant MINT_PER_TX = 10;
    uint16 public immutable MINT_MAX;
    uint256 public constant MINT_PRICE = 0.1 ether;
    uint256 public immutable MINT_START;
&nbsp;
    uint16 public constant BASE = 10000;
&nbsp;
    uint16 private royalty = 500; // base 10000, 5%
&nbsp;
    address[] private recipients;
    uint256[] private splits;
&nbsp;
    mapping(address =&gt; bool) private marketplaces;
    mapping(address =&gt; bool) private allowedMetadataVisualizers;
    mapping(uint256 =&gt; address) private visualizers;
    address defaultMetadataVisualizerAddress;
    bool private active;
&nbsp;
    string private suffixTokenURI;
&nbsp;
    Counters.Counter private _tokenIds;
&nbsp;
<span class="fstat-no" title="function not covered" >    modifier mustExist(uint256 _tokenId) {</span>
<span class="cstat-no" title="statement not covered" >        require(_exists(_tokenId), 'This Mowse does not exist.')</span>;
        _;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    modifier onlyHolder(uint256 _tokenId) {</span>
<span class="cstat-no" title="statement not covered" >        require(msg.sender == ownerOf(_tokenId), 'You must be the owner to set a Mowse metadata visualizer.')</span>;
        _;
    }
&nbsp;
    /// @notice set the base URI, gift token reservations, and payment manager
    /// @param _baseTokenURI base URI for the Mowse metadata
    /// @param _suffixTokenURI suffix URI for the Mowse metadata
    /// @param _mintStartTime number of Mowse reserved for gifts
    /// @param _gifts number of Mowse reserved for gifts
    /// @param _recipients payout recipients
    /// @param _splits payout splits
    constructor(
        string memory _baseTokenURI,
        string memory _suffixTokenURI,
        uint16 _maxSupply,
        uint256 _mintStartTime,
        uint8 _gifts,
        address[] memory _recipients,
        uint256[] memory _splits
    ) ERC721PresetMinterPauserAutoId('MowsePack', 'MOWSE', _baseTokenURI) {
        // skip the ID for the reserved tokens
        for (; _tokenIds.current() &lt; _gifts; _tokenIds.increment()) {}
&nbsp;
        // used if the metadata URI has a suffix
        suffixTokenURI = _suffixTokenURI;
&nbsp;
        // set the max supply
        MINT_MAX = _maxSupply;
&nbsp;
        // set the start time, this is immutable
        MINT_START = _mintStartTime;
&nbsp;
        // configure fee sharing
        uint256 _total = 0;
        for (uint256 i = 0; i &lt; _splits.length; i++) {
            _total += _splits[i];
        }
        <span class="missing-if-branch" title="else path not taken" >E</span>require(_total == BASE, 'Total must be equal to 100%');
        recipients = _recipients;
        splits = _splits;
&nbsp;
        // default to paused state
        pause();
    }
&nbsp;
    /// @notice Mint some mowse
    /// @param _quantity quantity of mowse to mint
    function mintMowse(uint8 _quantity) external payable override {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(MINT_PER_TX &gt;= _quantity, 'Too many Mowse for this transaction.');
        <span class="missing-if-branch" title="else path not taken" >E</span>require(MINT_PRICE * _quantity == msg.value, 'Not the right payment for all these Mowse.');
        <span class="missing-if-branch" title="else path not taken" >E</span>require(MINT_START &lt;= block.timestamp, 'Mowse minting has not started yet.');
&nbsp;
        // mint the mowse
        for (uint256 _i = 0; _i &lt; _quantity; _i++) {
            _tokenIds.increment();
            _safeMint(msg.sender, _tokenIds.current());
        }
&nbsp;
        emit MowseMinted(msg.sender, _quantity);
    }
&nbsp;
    /// @notice Gift a Mowse from the reserved set
    /// @dev Only the owner can call this method
    /// @param _to the address to gift the Mowse to
    /// @param _tokenId the token ID of the Mowse to gift
<span class="fstat-no" title="function not covered" >    function giftMowse(address _to, uint256 _tokenId) external override {</span>
<span class="cstat-no" title="statement not covered" >        require(hasRole(MINTER_ROLE, _msgSender()), 'Only minters can gift Mowse.')</span>;
<span class="cstat-no" title="statement not covered" >        require(!_exists(_tokenId), 'This Mowse id already has an owner.')</span>;
<span class="cstat-no" title="statement not covered" >        require(_tokenId &lt; _tokenIds.current(), 'This Mowse cannot be gifted.')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        _safeMint(_to, _tokenId)</span>;
    }
&nbsp;
    /// @notice Minting is only allowed through the mintMowse and giftMowse functions
    /// @dev only allow minting through safe mint
<span class="fstat-no" title="function not covered" >    function mint(address) public pure override {</span>
<span class="cstat-no" title="statement not covered" >        require(false, 'You must mintMowse().')</span>;
    }
&nbsp;
    /**
     * @dev See {IERC721Metadata-tokenURI}.
     */
<span class="fstat-no" title="function not covered" >    function tokenURI(uint256 _tokenId) public view virtual override mustExist(_tokenId) returns (string memory) {</span>
        // check to see if visualizers are active, enabled for this address, and allowed
<span class="cstat-no" title="statement not covered" >        if (active &amp;&amp; visualizers[_tokenId] != address(0) &amp;&amp; allowedMetadataVisualizers[visualizers[_tokenId]]) {</span>
            // do the thing
<span class="cstat-no" title="statement not covered" >            return _getMowseMetadataVisualizer(_tokenId).getMowseTokenUri(_tokenId);</span>
        }
        // default to the base URI
<span class="cstat-no" title="statement not covered" >        string memory baseURI = _baseURI();</span>
<span class="cstat-no" title="statement not covered" >        return bytes(baseURI).length &gt; 0 ? string(abi.encodePacked(baseURI, _tokenId.toString(), suffixTokenURI)) : '';</span>
    }
&nbsp;
    /// @notice Shows the base metadata URI for the Mowse
    /// @dev This is the original metadata published with the contract
<span class="fstat-no" title="function not covered" >    function tokenPermanentURI(uint256 _tokenId) public view override mustExist(_tokenId) returns (string memory) {</span>
        // default to the base URI
<span class="cstat-no" title="statement not covered" >        return super.tokenURI(_tokenId);</span>
    }
&nbsp;
    /**
     * Override isApprovedForAll to whitelisted marketplaces to enable listings without needing approval.
     * Just makes it easier for users.
     */
<span class="fstat-no" title="function not covered" >    function isApprovedForAll(address _owner, address _operator)</span>
        public
        view
        override(ERC721, IERC721)
        returns (bool isOperator)
    {
<span class="cstat-no" title="statement not covered" >        if (marketplaces[_operator]) {</span>
<span class="cstat-no" title="statement not covered" >            return true;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return super.isApprovedForAll(_owner, _operator);</span>
    }
&nbsp;
    /// @dev Support for IERC-2981, royalties
<span class="fstat-no" title="function not covered" >    function supportsInterface(bytes4 interfaceId)</span>
        public
        view
        override(IERC165, ERC721PresetMinterPauserAutoId)
        returns (bool)
    {
<span class="cstat-no" title="statement not covered" >        return interfaceId == type(IERC2981).interfaceId || super.supportsInterface(interfaceId);</span>
    }
&nbsp;
    /// @notice Calculate the royalty payment
    /// @param _salePrice the sale price of the token
<span class="fstat-no" title="function not covered" >    function royaltyInfo(uint256, uint256 _salePrice)</span>
        external
        view
        override
        returns (address receiver, uint256 royaltyAmount)
    {
<span class="cstat-no" title="statement not covered" >        return (address(this), (_salePrice * royalty) / BASE);</span>
    }
&nbsp;
    /* HOLDER */
&nbsp;
    /// @notice Set the metadata visualizer for a Mowse
    /// @dev Only the token owner can call this method
    /// @param _tokenId the token ID of the Mowse to set the metadata visualizer for
    /// @param _visualizer the address of the metadata visualizer
<span class="fstat-no" title="function not covered" >    function setMetadataVisualizer(uint256 _tokenId, address _visualizer)</span>
        external
        override
        mustExist(_tokenId)
        onlyHolder(_tokenId)
    {
<span class="cstat-no" title="statement not covered" >        require(allowedMetadataVisualizers[_visualizer], 'This metadata visualizer is not allowed.')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit MetadataVisualizerUpdated(_tokenId, _visualizer, visualizers[_tokenId]);</span>
&nbsp;
        visualizers[_tokenId] = _visualizer;
    }
&nbsp;
    /// @notice Disable the metadata visualizer for a Mowse
    /// @dev Only the token owner can call this method
    /// @param _tokenId the token ID of the Mowse to disable the metadata visualizer for
<span class="fstat-no" title="function not covered" >    function disableMetadataVisualizer(uint256 _tokenId) external override mustExist(_tokenId) onlyHolder(_tokenId) {</span>
<span class="cstat-no" title="statement not covered" >        emit MetadataVisualizerDisabled(_tokenId, visualizers[_tokenId]);</span>
&nbsp;
        delete visualizers[_tokenId];
    }
&nbsp;
    /* OWNER */
&nbsp;
    /// @notice set the token URI functionality active state
    /// @dev Only the owner can call this method
    /// @param _active whether or not the token URI functionality is active
<span class="fstat-no" title="function not covered" >    function setActive(bool _active) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        emit MetadataVisualizerActive(_active, active);</span>
&nbsp;
        active = _active;
    }
&nbsp;
    /// @notice set the whitelisted marketplace contract addresses
    /// @dev Only the owner can call this method
    /// @param _marketplace the marketplace contract address to whitelist
    /// @param _allowed the whitelist status
<span class="fstat-no" title="function not covered" >    function setMarketplace(address _marketplace, bool _allowed) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        emit MarketplaceUpdated(_marketplace, _allowed, marketplaces[_marketplace]);</span>
&nbsp;
        marketplaces[_marketplace] = _allowed;
    }
&nbsp;
    /// @notice set the visualizers whitelisted state
    /// @dev Only the owner can call this method
    /// @param _visualizer the metadata visualizer address to whitelist
    /// @param _allowed the whitelist status
<span class="fstat-no" title="function not covered" >    function setAllowedMetadataVisualizer(address _visualizer, bool _allowed) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        emit MetadataVisualizerAllowed(_visualizer, _allowed, allowedMetadataVisualizers[_visualizer]);</span>
&nbsp;
        allowedMetadataVisualizers[_visualizer] = _allowed;
    }
&nbsp;
    /// @dev set the ROYALTY
    /// @param _royalty the ROYALTY
<span class="fstat-no" title="function not covered" >    function setRoyalty(uint16 _royalty) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(_royalty &gt;= 0, 'Royalty must be greater than or equal to 0%')</span>;
<span class="cstat-no" title="statement not covered" >        require(_royalty &lt;= 750, 'Royalty must be greater than or equal to 7.5%')</span>;
&nbsp;
        royalty = _royalty;
    }
&nbsp;
    /// @dev get balance in native currency of this contract
<span class="fstat-no" title="function not covered" >    function balance() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return address(this).balance;</span>
    }
&nbsp;
    /// @dev withdraw native tokens divided by splits
<span class="fstat-no" title="function not covered" >    function withdraw() external nonReentrant {</span>
<span class="cstat-no" title="statement not covered" >        uint256 _amount = address(this).balance;</span>
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            (bool sent, ) = payable(recipients[i]).call{value: (_amount * splits[i]) / BASE}('');</span>
<span class="cstat-no" title="statement not covered" >            require(sent, 'Failed to send payment')</span>;
        }
    }
&nbsp;
    /// @dev withdraw ERC20 tokens divided by splits
<span class="fstat-no" title="function not covered" >    function withdrawTokens(address _tokenContract) external nonReentrant {</span>
<span class="cstat-no" title="statement not covered" >        IERC20 tokenContract = IERC20(_tokenContract);</span>
&nbsp;
        // transfer the token from address of this contract
<span class="cstat-no" title="statement not covered" >        uint256 _amount = tokenContract.balanceOf(address(this));</span>
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            tokenContract.transfer(recipients[i], (_amount * splits[i]) / BASE)</span>;
        }
    }
&nbsp;
    /// @dev withdraw ERC721 tokens to the contract owner
<span class="fstat-no" title="function not covered" >    function withdrawNFT(address _tokenContract, uint256[] memory _id) external nonReentrant {</span>
<span class="cstat-no" title="statement not covered" >        IERC721 tokenContract = IERC721(_tokenContract);</span>
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; _id.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            tokenContract.safeTransferFrom(address(this), this.owner(), _id[i])</span>;
        }
    }
&nbsp;
    /* PRIVATE */
&nbsp;
    /// @dev get the metadata visualizer for a Mowse
    /// @param _tokenId the token ID of the Mowse to get the metadata visualizer for
<span class="fstat-no" title="function not covered" >    function _getMowseMetadataVisualizer(uint256 _tokenId) private view returns (IMowseMetadataVisualizer) {</span>
<span class="cstat-no" title="statement not covered" >        if (visualizers[_tokenId] != address(0) &amp;&amp; allowedMetadataVisualizers[visualizers[_tokenId]]) {</span>
<span class="cstat-no" title="statement not covered" >            return IMowseMetadataVisualizer(visualizers[_tokenId]);</span>
        }
<span class="cstat-no" title="statement not covered" >        return IMowseMetadataVisualizer(defaultMetadataVisualizerAddress);</span>
    }
&nbsp;
    /// @dev override to check the max supply when minting
    function _mint(address to, uint256 _id) internal override {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(_id &lt;= MINT_MAX, 'All the Mowse are minted.');
        super._mint(to, _id);
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Feb 08 2023 18:01:37 GMT-0600 (Central Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
